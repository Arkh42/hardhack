<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<meta http-equiv="content-style-type" content="text/css">
<meta name="author" content="W.W. Heinz">
<meta name="language" content="en">
<meta name="description" content="Installing ASEM-51 V1.3 under FreeBSD (i386)">
<meta name="keywords" content="ASEM-51,8051,macro,assembler,MCS-51" lang="en">
<meta name="robots" content="index,nofollow">
<link rel="shortcut icon" href="http://plit.de/asem-51/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="appn0001__FreeBSD__files/web.css" type="text/css">
<title>Installing ASEM-51 V1.3 under FreeBSD (i386)</title>
</head>

<body vlink="#990099" text="#000000" link="#0000FF" bgcolor="#FFFFFF" alink="#FF0000">

<table width="760" cellspacing="0" cellpadding="0" border="0">
<tbody><tr><td valign="TOP" align="CENTER"><br>

<table cellspacing="0" cellpadding="0" border="0">
<tbody><tr><td colspan="2" bgcolor="#FFFFFF"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td>
<td><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td class="navi4" nowrap="nowrap" height="27"><big>&nbsp; <a class="navi" href="http://plit.de/asem-51/home.htm">Home</a></big></td>
<td bgcolor="#000000"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td>
<td class="navi1" rowspan="26" valign="TOP"><img src="appn0001__FreeBSD__files/ro.gif" alt="" width="6" height="6"></td></tr>
<tr><td colspan="2" bgcolor="#000000"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td colspan="2" bgcolor="#FFFFFF"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td class="navi4" nowrap="nowrap" height="27"><big>&nbsp; <a class="navi" href="http://plit.de/asem-51/introv13.htm">Introduction</a> &nbsp;</big></td>
<td bgcolor="#000000"><br></td></tr>
<tr><td colspan="2" bgcolor="#000000"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td colspan="2" bgcolor="#FFFFFF"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td class="navi4" nowrap="nowrap" height="27"><big>&nbsp; <a class="navi" href="http://plit.de/asem-51/news.htm">News</a></big></td>
<td bgcolor="#000000"><br></td></tr>
<tr><td colspan="2" bgcolor="#000000"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td colspan="2" bgcolor="#FFFFFF"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td class="navi4" nowrap="nowrap" height="27"><big>&nbsp; <a class="navi" href="http://plit.de/asem-51/agreemnt.htm">License</a></big></td>
<td bgcolor="#000000"><br></td></tr>
<tr><td colspan="2" bgcolor="#000000"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td colspan="2" bgcolor="#FFFFFF"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td class="navi4" nowrap="nowrap" height="27"><big>&nbsp; <a class="navi" href="http://plit.de/asem-51/download.htm">Download</a></big></td>
<td bgcolor="#000000"><br></td></tr>
<tr><td colspan="2" bgcolor="#000000"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td colspan="2" bgcolor="#FFFFFF"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td class="navi4" nowrap="nowrap" height="27"><big>&nbsp; <a class="navi" href="http://plit.de/asem-51/docs.htm">Documentation</a> &nbsp;</big></td>
<td bgcolor="#000000"><br></td></tr>
<tr><td colspan="2" bgcolor="#000000"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td colspan="2" bgcolor="#FFFFFF"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td class="navi4" nowrap="nowrap" height="27"><big>&nbsp; <a class="navi" href="http://plit.de/asem-51/bugs.htm">Bug Reports</a> &nbsp;</big></td>
<td bgcolor="#000000"><br></td></tr>
<tr><td colspan="2" bgcolor="#000000"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td colspan="2" bgcolor="#FFFFFF"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td class="navi4" nowrap="nowrap" height="27"><big>&nbsp; <a class="navi" href="http://plit.de/asem-51/soapbox.htm">Soapbox</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="appn0001__FreeBSD__files/smile.gif" alt="(smile)" width="15" height="15"> &nbsp;</big></td>
<td bgcolor="#000000"><br></td></tr>
<tr><td colspan="2" bgcolor="#000000"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td colspan="2" bgcolor="#FFFFFF"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td class="navi4" nowrap="nowrap" height="27"><big>&nbsp; <a class="navi" href="http://plit.de/asem-51/mail.htm">Mail</a></big></td>
<td bgcolor="#000000"><br></td></tr>
<tr><td colspan="2" bgcolor="#000000"><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="1" height="1"></td></tr>
<tr><td class="navi2" colspan="2"><img src="appn0001__FreeBSD__files/lu.gif" alt="" width="6" height="6"></td>
<td><img src="appn0001__FreeBSD__files/ru.gif" alt="" width="6" height="6"></td></tr>
</tbody></table>

<br><br><br>
<a href="http://validator.w3.org/check?uri=referer"><img src="appn0001__FreeBSD__files/3wchtml.gif" alt="valid HTML" width="88" height="31" border="0"></a><br><br>
<a href="http://jigsaw.w3.org/css-validator/check/referer"><img src="appn0001__FreeBSD__files/3wccss.gif" alt="valid CSS" width="88" height="31" border="0"></a><br>&nbsp;

</td><td valign="TOP">

<table width="100%" cellspacing="0" cellpadding="16" border="0">
<tbody><tr><td valign="TOP">

<center>
<table cellspacing="0" cellpadding="0" border="0">
<tbody><tr><td colspan="5" align="CENTER"><img src="appn0001__FreeBSD__files/asem51.gif" alt="ASEM-51" width="337" height="58"></td></tr>
<tr><td colspan="5">&nbsp;</td></tr>
<tr><td nowrap="nowrap" align="LEFT"><big>Application Note 0001</big></td>
    <td><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="32" height="1"></td>
    <td nowrap="nowrap" align="CENTER"><big>Rev. C</big></td>
    <td><img src="appn0001__FreeBSD__files/pixel.gif" alt="" width="32" height="1"></td>
    <td nowrap="nowrap" align="RIGHT"><big>May 30, 2005</big></td></tr>
</tbody></table>

<h2>Installing ASEM-51 V1.3 under FreeBSD (i386)</h2>
</center>

<p>
FreeBSD users may wish to run ASEM-51 V1.3 on their system.
It is possible to run the Linux implementation of ASEM-51 under
the FreeBSD Linux emulator. For this, perform the following steps:
</p>

<ol type="1">
<li>Ensure that the Linux emulator is set up properly.
    Login as root and invoke
<pre>    kldstat</pre>
    If a kernel module <em>linux.ko</em> is loaded, the linux
    emulator is installed and active.
    If not, install the linux emulation package, if necessary.
    It is located in <em>/usr/ports/emulators/linux_base</em>.
    Then load the kernel module:
<pre>    kldload linux</pre>
    Be sure to load the module also at boot time.<br>
    For this, edit <em>/etc/rc.conf</em> and include a line like
<pre>    linux_enable="YES"</pre>
</li>
<li>Download the tarball of ASEM-51 V1.3 for Linux
<pre>    asem51-1.3-ELF.tar.gz</pre>
    and install it as described for Linux systems in the file
    <em>README.1ST</em> provided. Before running the installation script
    <em>install.sh</em>, it has to be adapted to FreeBSD, however:
    change line 62
<pre>    chgrp -R root $ASEM/* || exit $?
to
    chgrp -R wheel $ASEM/* || exit $?</pre>
</li>
<li>If you are invoking <em>asem</em> after a "successful"
    installation, it will probably abort with the following error message:
<pre>    ELF binary type "0" not known.</pre>
    In this case the binaries have to be branded for Linux first!<br>
    Change the OS_ABI (byte 7 in the ELF header) of the executables:
<pre>    cd /usr/local/share/asem-51/1.3
    brandelf -t Linux asem hexbin customiz</pre>
</li>
<li>The <em>reset51</em> program and the boot scripts are strictly Linux-specific.<br>
    Do not invoke them under FreeBSD! Better defuse them with
<pre>    chmod a-x reset51 boot upload*</pre>
</li>
</ol>

<p>
Now most of ASEM-51 is ready to use under FreeBSD 4.x or 5.x.<br>
For further details refer to the Linux part of the ASEM-51
documentation.
</p>

<p>
Thanks a lot to <strong>Raymundo M. Vega</strong> for reporting
this problem (and the solution)!
</p>

<p>
The next ASEM-51 version (1.4, or something) will also
be available as a native implementation for FreeBSD (i386).
Stay tuned!
</p>

<table cellspacing="0" cellpadding="0" border="0">
<tbody><tr><td colspan="3">&nbsp;</td></tr>
<tr><td><img src="appn0001__FreeBSD__files/deckbl.gif" alt="" width="13" height="15"></td>
    <td nowrap="nowrap"><big>&nbsp;&nbsp;&nbsp;&nbsp;</big></td>
    <td><big>Get this application note in plain
        <a href="http://plit.de/asem-51/appn0001.txt">ASCII</a> format.</big></td></tr>
<tr><td colspan="3">&nbsp;</td></tr>
</tbody></table>

<hr>

<center>
<address>
<p>Last revised: &nbsp; <a href="http://plit.de/asem-51/mail.htm">W.W.&nbsp;Heinz</a>, &nbsp;
December 15, 2010</p>
</address>
</center>

<!-- Seitentext Ende -->

</td></tr>
</tbody></table>
</td></tr>
</tbody></table>


</body></html>
